/*!
 * jQuery Sprite Plugin v0.1
 *
 * Copyright 2011, Matt Robenolt
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(c){c.fn.sprite=function(k){var a=c.extend({},{size:!1,speed:200,frames:5,mode:"once",columns:-1,onComplete:c.noop,onStep:c.noop},k),f="__sprite__",g=setTimeout;!a.size&&(a.size=[this.width(),this.height()]);return this.each(function(){function h(){var i=a.columns>-1?b%a.columns:b,j=a.columns>-1?Math.floor(b/a.columns):0;d.style.backgroundPosition=-(i*a.size[0])+"px "+-(j*a.size[1])+"px";typeof a.onStep==="function"&&a.onStep.apply(d,[{column:i,row:j,step:b}]);switch(a.mode){case "loop":++b===a.frames&&(b=0);break;case "bounce":if(e<0&&--b===0){e=1;break}if(e>0&&++b===a.frames){e=-1;b-=2;break}break;default:if(++b===a.frames){typeof a.onComplete==="function"&&a.onComplete.apply(d);c(d).removeData(f);return}}g(h,a.speed)}var d=this,b=1,e=1;if(!c(d).data(f))c(d).data(f,1),d.style.backgroundPosition="0px 0px",g(h,a.speed)})}})(jQuery);