/*!
 * jQuery Sprite Plugin v0.1
 *
 * Copyright 2011, Matt Robenolt
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(d){d.fn.sprite=function(k){var a={size:!1,speed:200,frames:5,mode:"once",columns:-1},e="__sprite__",g=setTimeout;d.extend(a,k);!a.size&&(a.size=[this.width(),this.height()]);return this.each(function(){function h(){var i=a.columns>-1?b%a.columns:b,j=a.columns>-1?Math.floor(b/a.columns):0;c.style.backgroundPosition=-(i*a.size[0])+"px "+-(j*a.size[1])+"px";typeof a.onStep==="function"&&a.onStep.apply(c,[{column:i,row:j,step:b}]);switch(a.mode){case "loop":++b===a.frames&&(b=0);break;case "bounce":if(f<0){--b===0&&(f=1);break}if(++b===a.frames){f=-1;b-=2;break}break;default:if(++b===a.frames){typeof a.onComplete==="function"&&a.onComplete.apply(c);d(c).removeData(e);return}}g(h,a.speed)}var c=this,b=1,f=1;if(!d(c).data(e))d(c).data(e,1),c.style.backgroundPosition="0px 0px",g(h,a.speed)})}})(jQuery);